<p-dialog
  header="{{ modalType }} Giỏ Hàng"
  [(visible)]="displayAddEditModal"
  [modal]="true"
  [style]="{ width: '50vw' }"
  [draggable]="false"
  [resizable]="false"
  (onHide)="closeModal()"
>
  <form action="" [formGroup]="cartForm" class="cart-form">
    <div class="field">
      <label class="block" for="product_id">Tên Bánh</label>

      <select
        class="tw-bg-white tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-blue-500 focus:tw-border-blue-500 tw-block tw-w-1/2 tw-p-2.5"
        formControlName="product_id"
      >
        <option [value]="item.id" *ngFor="let item of products">
          {{ item.name }}
        </option>
      </select>

      <small
        class="p-error block"
        *ngIf="
          cartForm.controls['product_id'].invalid &&
          cartForm.controls['product_id'].dirty
        "
        >Field is required</small
      >

      <div
        *ngIf="error$?.product_id"
        class="tw-p-4 tw-mb-4 tw-text-sm tw-text-red-700 tw-bg-red-100 tw-rounded-lg"
        role="alert"
      >
        <span class="tw-font-medium"></span>
        {{ error$.product_id }}
      </div>
    </div>

    <div class="field">
      <label class="block" for="user_id">Tên Khách Hàng</label>

      <select
        class="tw-bg-white tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-blue-500 focus:tw-border-blue-500 tw-block tw-w-1/2 tw-p-2.5"
        formControlName="user_id"
      >
        <option [value]="item.id" *ngFor="let item of users">
          {{ item.name }}
        </option>
      </select>

      <small
        class="p-error block"
        *ngIf="
          cartForm.controls['user_id'].invalid &&
          cartForm.controls['user_id'].dirty
        "
        >Field is required</small
      >

      <div
        *ngIf="error$?.user_id"
        class="tw-p-4 tw-mb-4 tw-text-sm tw-text-red-700 tw-bg-red-100 tw-rounded-lg"
        role="alert"
      >
        <span class="tw-font-medium"></span> {{ error$.user_id }}
      </div>
    </div>

    <div class="field">
      <label class="block" for="quantity">Số Lượng</label>
      <p-inputNumber
        id="quantity"
        formControlName="quantity"
        class="block"
      ></p-inputNumber>
      <small
        class="p-error block"
        *ngIf="
          cartForm.controls['quantity'].invalid &&
          cartForm.controls['quantity'].dirty
        "
        >Field is required</small
      >

      <div
        *ngIf="error$?.quantity"
        class="tw-p-4 tw-mb-4 tw-text-sm tw-text-red-700 tw-bg-red-100 tw-rounded-lg"
        role="alert"
      >
        <span class="tw-font-medium"></span> {{ error$.quantity }}
      </div>
    </div>
  </form>

  <ng-template pTemplate="footer">
    <p-button
      icon="pi pi-times"
      (click)="closeModal()"
      label="Hủy"
      styleClass="p-button-text"
    ></p-button>
    <p-button
      icon="pi pi-check"
      (click)="addEditCart()"
      label="{{ modalType }}"
    ></p-button>
  </ng-template>
</p-dialog>
<!-- [loading]="cartForm.invalid" -->
